**SELinux: Конспект**

SELinux (Security-Enhanced Linux) – это механизм обеспечения безопасности в операционной системе Linux. Разработанный Национальным институтом стандартов и технологий (NIST) и внедренный в ядро Linux, SELinux предоставляет дополнительные уровни контроля доступа, позволяя администраторам жестко настраивать политики безопасности.

**1. Основные команды:**

- **sestatus:** Команда для отображения текущего статуса SELinux, включая его включение или отключение.

  ```bash
  sestatus
  ```

- **getenforce:** Позволяет проверить текущий режим SELinux (Enforcing, Permissive, Disabled).

  ```bash
  getenforce
  ```

- **setenforce:** Используется для изменения режима SELinux на Enforcing или Permissive.

  ```bash
  setenforce Enforcing
  ```

- **semanage:** Инструмент для управления политиками SELinux. Используется для добавления, удаления или изменения политик.

  ```bash
  semanage port -a -t http_port_t -p tcp 8080
  ```

**2. Параметры настройки:**

- **SELINUX=** в файле /etc/selinux/config: Определяет, будет ли SELinux включен, отключен или находится в режиме пермиссива.

- **SELINUXTYPE=** в файле /etc/selinux/config: Задает тип политики SELinux (targeted, strict, mls и т. д.).

**3. Конфигурационные файлы:**

- **/etc/selinux/config:** Основной файл конфигурации SELinux, где устанавливаются глобальные параметры.

- **/etc/selinux/targeted/contexts/files/file_contexts:** Определяет контекст безопасности файлов для определенных путей.

- **/etc/selinux/targeted/contexts/users:** Определяет контекст безопасности для пользователей.

**4. Основные режимы:**

- **Enforcing:** В этом режиме SELinux жестко применяет политики безопасности и блокирует доступ при нарушении правил.

- **Permissive:** SELinux регистрирует нарушения политик без блокировки доступа, что полезно для отладки и тестирования.

- **Disabled:** SELinux полностью выключен, не применяет политики безопасности.

**5. Примеры использования:**

- **Запретить доступ Apache к сети:**

  ```bash
  setsebool -P httpd_can_network_connect 0
  ```

- **Изменить контекст безопасности файла:**

  ```bash
  chcon -t httpd_sys_content_t /var/www/html/index.html
  ```

- **Добавить новый тип политики SELinux:**

  ```bash
  semanage fcontext -a -t my_custom_content_t '/srv/mydata(/.*)?'
  ```

**6. Заключение:**

SELinux предоставляет мощные инструменты для управления безопасностью в Linux, позволяя администраторам гибко настраивать политики безопасности. Понимание основных команд, параметров настройки, конфигурационных файлов и режимов работы SELinux необходимо для успешной реализации и обслуживания безопасной системы на базе Linux.
